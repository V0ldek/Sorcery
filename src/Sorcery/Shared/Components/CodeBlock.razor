@if(FileName is not null)
{ 
    <pre data-label="@FileName" class="@(LineNumbers ? "line-numbers" : "")">
        <code class=@($"language-{Language}")>
            @_displayCode
        </code>
    </pre>
}
else
{
    <pre class="@(LineNumbers ? "line-numbers" : "")">
        <code class=@($"language-{Language}")>
            @_displayCode
        </code>
    </pre>
}

@code {
    /// <summary>
    ///     Language to use for Prism formatting. Defaults to <code>csharp</code>.
    /// </summary>
    [Parameter]
    public string? Language { get; set; } = "csharp";

    /// <summary>
    ///     Whether to display line numbers. Defaults to false.
    /// </summary>
    [Parameter]
    public bool LineNumbers { get; set; }

    /// <summary>
    ///     Source file name to display. If not given then it's omitted from the overlay.
    /// </summary>
    [Parameter]
    public string? FileName { get; set; }

    [Parameter]
    [EditorRequired]
    public string Code { get; set; } = null!;

    private string _displayCode = null!;

    protected override void OnParametersSet() => _displayCode = Code?.Trim()!;
}
