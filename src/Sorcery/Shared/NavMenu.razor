@inject CourseBook CourseBook;

<MudNavMenu Bordered="true">
    <MudNavLink Href="/" Match="NavLinkMatch.All">Welcome page</MudNavLink>

    <MudNavGroupLink Href="/teaching" Match="NavLinkMatch.Prefix" Expanded="true" Icon="@Icons.Filled.School" Title="Teaching">
        @foreach (var course in CourseBook.Courses)
        {
            <MudNavGroupLink Href="@course.Route" Match="NavLinkMatch.Prefix" Expanded="false" Title="@course.DisplayName">
                @foreach (var module in course.Modules)
                {
                    <MudNavGroupLink Href="@module.Route" Match="NavLinkMatch.Prefix" Expanded="false" Title="@module.DisplayName">
                        @foreach (var section in module.Sections)
                        {
                            <MudNavLink Class="pr-2" Href="@(section.Route)" Match="NavLinkMatch.All">@(section.DisplayName)</MudNavLink>
                        }
                        @if (module.Assignment is not null)
                        {
                            <MudNavLink Class="pr-2" Icon="@Icons.Filled.Assignment" Href="@module.Assignment.Route" Match="NavLinkMatch.All">@module.Assignment.DisplayName</MudNavLink>
                        }
                    </MudNavGroupLink>
                }
            </MudNavGroupLink>
        }
    </MudNavGroupLink>

    <MudNavLink Href="/about" Match="NavLinkMatch.All">About me</MudNavLink>
</MudNavMenu>
