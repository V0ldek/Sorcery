@inject CourseBook CourseBook;

<MudNavMenu Bordered="true">
    <MudNavLink Href="/" Match="NavLinkMatch.All">Welcome page</MudNavLink>

    <MudNavGroupLink Href="/teaching" Match="NavLinkMatch.Prefix" Expanded="true" Icon="@Icons.Filled.School" Title="Teaching">
        @foreach (var course in CourseBook.Courses)
        {
            <MudNavGroupLink Href="@course.Route" Match="NavLinkMatch.Prefix" Expanded="false" Title="@course.DisplayName">
                @foreach (var module in course.Modules)
                {
                    <MudNavGroupLink Href="@module.Route" Match="NavLinkMatch.Prefix" Expanded="false" Title="@module.DisplayName">
                        @foreach (var section in module.Sections)
                        {
                            <MudNavLink Class="pr-2" Href="@(section.Route)" Match="NavLinkMatch.All">@(section.DisplayName)</MudNavLink>
                        }
                        @if (module.Assignment is not null)
                        {
                            <MudNavLink Class="pr-2" Icon="@Icons.Filled.Assignment" Href="@module.Assignment.Route" Match="NavLinkMatch.All">@module.Assignment.DisplayName</MudNavLink>
                        }
                    </MudNavGroupLink>
                }
            </MudNavGroupLink>
        }
        <!--
        <MudNavGroupLink Href="/teaching/csharp" Match="NavLinkMatch.Prefix" Expanded="false" Title="C#">
            <MudNavGroupLink Href="/teaching/csharp/0-basics" Match="NavLinkMatch.Prefix" Expanded="false" Title="0. Basics">
                    <MudNavLink Class="pr-2" Href="/teaching/csharp/0-basics/0-dotnet-taxonomy" Match="NavLinkMatch.Prefix">0.0. .NET Taxonomy</MudNavLink>
                    <MudNavLink Class="pr-2" Href="/teaching/csharp/0-basics/1-configuring-your-environment" Match="NavLinkMatch.Prefix">0.1. Configuring Your Environment</MudNavLink>
                    <MudNavLink Class="pr-2" Href="/teaching/csharp/0-basics/2-hello-world" Match="NavLinkMatch.Prefix">0.2. Hello, World!</MudNavLink>
                    <MudNavLink Class="pr-2" Href="/teaching/csharp/0-basics/3-control-flow" Match="NavLinkMatch.Prefix">0.3. Control Flow</MudNavLink>
                    <MudNavLink Class="pr-2" Href="/teaching/csharp/0-basics/4-arrays" Match="NavLinkMatch.Prefix">0.4. Arrays</MudNavLink>
                    <MudNavLink Class="pr-2" Href="/teaching/csharp/0-basics/5-classes" Match="NavLinkMatch.Prefix">0.5. Classes</MudNavLink>
                    <MudNavLink Class="pr-2" Href="/teaching/csharp/0-basics/6-inheritance" Match="NavLinkMatch.Prefix">0.6. Inheritance</MudNavLink>
                    <MudNavLink Class="pr-2" Href="/teaching/csharp/0-basics/7-abstract-types" Match="NavLinkMatch.Prefix">0.7. Abstract Types</MudNavLink>
                    <MudNavLink Class="pr-2" Href="/teaching/csharp/0-basics/8-strings" Match="NavLinkMatch.Prefix">0.8. Strings</MudNavLink>
                    <MudNavLink Class="pr-2" Href="/teaching/csharp/0-basics/9-attributes" Match="NavLinkMatch.Prefix">0.9. Attributes</MudNavLink>
                    <MudNavLink Class="pr-2" Href="/teaching/csharp/0-basics/10-testing-with-xunit" Match="NavLinkMatch.Prefix">0.10. Testing with xUnit</MudNavLink>
                    <MudNavLink Class="pr-2" Href="/teaching/csharp/0-basics/11-using-github-classroom" Match="NavLinkMatch.Prefix">0.11. Using GitHub Classroom</MudNavLink>
                    <MudNavLink Class="pr-2" Href="/teaching/csharp/0-basics/12-assignment-0" Match="NavLinkMatch.Prefix">0.12. Assignment #0 &ndash; Dungeon Walker</MudNavLink>
            </MudNavGroupLink>
        </MudNavGroupLink>
        -->
    </MudNavGroupLink>

    <MudNavLink Href="/about" Match="NavLinkMatch.All">About me</MudNavLink>
</MudNavMenu>
